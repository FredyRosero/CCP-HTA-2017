<ViewModels:WindowViewModelBase
    x:Class="CCP_HTA_2017.Views.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:Bussines="clr-namespace:CCP_HTA_2017.Bussines"
    xmlns:Controls="clr-namespace:CCP_HTA_2017.Controls"
    xmlns:Converters="clr-namespace:CCP_HTA_2017.Converters"
    xmlns:SQLite="clr-namespace:System.Data.SQLite;assembly=System.Data.SQLite"
    xmlns:System="clr-namespace:System;assembly=mscorlib"
    xmlns:Themes="clr-namespace:Microsoft.Windows.Themes;assembly=PresentationFramework.Aero"
    xmlns:ViewModels="clr-namespace:CCP_HTA_2017.ViewModels"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:ei="clr-namespace:Microsoft.Expression.Interactivity.Core;assembly=Microsoft.Expression.Interactions"
    xmlns:i="clr-namespace:System.Windows.Interactivity;assembly=System.Windows.Interactivity"
    xmlns:local="clr-namespace:CCP_HTA_2017.Views"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    x:Name="window"
    Title="CPP HTA 2017"
    Width="1280"
    Height="700"
    MaxHeight="{Binding Height, Source={x:Static SystemParameters.WorkArea}}"
    xml:lang="es-CO"
    DataContext="{Binding Mode=OneWay, Source={StaticResource applicationViewModel}}"
    FocusManager.FocusedElement="{Binding ElementName=pacienteTableSortKeyNinTextBox}"
    ScrollViewer.HorizontalScrollBarVisibility="Hidden"
    ScrollViewer.VerticalScrollBarVisibility="Hidden"
    SnapsToDevicePixels="True"
    Style="{DynamicResource WindowStyle}"
    UseLayoutRounding="True"
    WindowStartupLocation="Manual"
    WindowStyle="None"
    mc:Ignorable="d">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="auto" />
            <RowDefinition Height="88*" />
            <RowDefinition Height="7*" />
            <RowDefinition Height="auto" />
        </Grid.RowDefinitions>
        <!--  Ventana: Barra titulo  -->
        <Grid Grid.Row="0" Background="{DynamicResource Fondo2_brush}">
            <Grid.InputBindings>
                <MouseBinding Command="{Binding MaximizarVentanaCommand, ElementName=window, Mode=OneWay}" MouseAction="LeftDoubleClick" />
                <MouseBinding Command="{Binding ArrastrarVentanaCommand, ElementName=window, Mode=OneWay}" MouseAction="LeftClick" />
            </Grid.InputBindings>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="25" />
                <ColumnDefinition Width="95" />
                <ColumnDefinition Width="auto" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="25" />
                <ColumnDefinition Width="25" />
                <ColumnDefinition Width="25" />
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="25" />
            </Grid.RowDefinitions>
            <Image Grid.Column="0" Margin="3" Source="{DynamicResource LogoBlancoPqueño}" />
            <TextBlock
                Grid.Column="1"
                Margin="5,0,0,0"
                HorizontalAlignment="Left"
                VerticalAlignment="Center"
                FontWeight="Bold"
                Foreground="White"
                Text="CPP HTA 2017" />
            <Menu x:Name="menu" Grid.Column="2" Style="{DynamicResource MenuStyle}">
                <MenuItem Header="_Archivo">
                    <MenuItem Header="_Gestionar Base de datos">
                        <MenuItem Command="{Binding GestorTablaPacienteWindowShowCommand, ElementName=window, Mode=OneWay}" Header="_Paciente" />
                        <MenuItem Command="{Binding GestorTablaRegistroWindowShowCommand, ElementName=window, Mode=OneWay}" Header="_Regristros" />
                    </MenuItem>
                    <MenuItem Command="{Binding sessionViewModel.LogoutCommand, Mode=OneWay}" Header="_Cerrar sesión" />
                    <Separator />
                    <MenuItem Command="{Binding CerrarAplicaciónCommand, ElementName=window, Mode=OneWay}" Header="_Salir" />
                </MenuItem>
                <MenuItem Header="_Configuración">
                    <MenuItem Command="{Binding CambioContraseñaWindowShowCommand, ElementName=window, Mode=OneWay}" Header="_Cambiar contraseña" />
                </MenuItem>

            </Menu>
            <Button
                x:Name="MinimizeButton"
                Grid.Column="4"
                Command="{Binding MinimizarVentanaCommand, ElementName=window, Mode=OneWay}"
                Content="0"
                KeyboardNavigation.IsTabStop="False"
                Style="{DynamicResource botonBarraTitulo_sty}" />
            <Button
                x:Name="MaximizarBoton"
                Grid.Column="5"
                Command="{Binding MaximizarVentanaCommand, ElementName=window, Mode=OneWay}"
                KeyboardNavigation.IsTabStop="False">
                <Button.Style>
                    <Style BasedOn="{StaticResource botonBarraTitulo_sty}" TargetType="{x:Type Button}">
                        <Setter Property="Content" Value="1" />
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding WindowState, ElementName=window, Mode=OneWay}" Value="Maximized">
                                <Setter Property="Content" Value="2" />
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </Button.Style>
            </Button>
            <Button
                x:Name="CloseButton"
                Grid.Column="6"
                Command="{Binding CerrarAplicaciónCommand, ElementName=window, Mode=OneWay}"
                Content="r"
                KeyboardNavigation.IsTabStop="False"
                Style="{DynamicResource botonBarraTitulo_sty}" />
        </Grid>
        <!--  Ventanda: Contenedor  -->
        <Grid x:Name="cuerpoVentana_grid" Grid.Row="1" Grid.RowSpan="2">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="10" />
                <ColumnDefinition x:Name="UIRegistro_ColumnDefinition" Width="auto" />
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="1*" />
            </Grid.RowDefinitions>
            <!--  UI de paciente y datos de regsitro  -->
            <Grid Grid.Column="0">
                <Grid.RowDefinitions>
                    <RowDefinition Height="5" />
                    <RowDefinition x:Name="UIPaciente_RowDefinition" Height="auto" MinHeight="100" />
                    <RowDefinition Height="5" />
                    <RowDefinition Height="*" />
                </Grid.RowDefinitions>
                <!--  Separador  -->
                <Rectangle
                    Grid.Row="0"
                    Grid.Column="0"
                    Grid.ColumnSpan="3"
                    Fill="{DynamicResource Resalte_brush}" />
                <!--  IU Gestion de paciente  -->
                <Grid x:Name="paciente_grid" Grid.Row="1" Height="Auto">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="10" />
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="10" />
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="10" />
                        <RowDefinition Height="auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="auto" />
                        <RowDefinition Height="auto" />
                        <RowDefinition Height="10" />
                    </Grid.RowDefinitions>
                    <!--  Barra de herramientas  -->
                    <Grid Grid.Row="1" Grid.ColumnSpan="5" Margin="5,0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="15" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="15" />
                        </Grid.ColumnDefinitions>
                        <Grid Grid.Column="1">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="53" />
                                <ColumnDefinition Width="122" />
                                <ColumnDefinition Width="114*" MinWidth="25" />
                                <ColumnDefinition Width="114*" MinWidth="25" />
                                <ColumnDefinition Width="114*" MinWidth="25" />
                                <ColumnDefinition Width="113*" MinWidth="25" />
                            </Grid.ColumnDefinitions>
                            <!--  Etiqueta  -->
                            <TextBlock
                                Grid.Column="0"
                                Padding="0,6,9,0"
                                VerticalAlignment="Top"
                                Foreground="{DynamicResource Resalte_brush}"
                                Text="Paciente" />
                            <!--  Campo de búsqueda  -->
                            <Grid Grid.Row="2" Grid.Column="1" Margin="0,0,10,0">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="auto" />
                                    <RowDefinition Height="auto" />
                                </Grid.RowDefinitions>
                                <TextBox
                                    x:Name="pacienteTableSortKeyNinTextBox"
                                    Height="25"
                                    Style="{DynamicResource TextBoxStyle}"
                                    Text="{Binding pacienteTableSortKeyNin, UpdateSourceTrigger=PropertyChanged}" />
                                <Label
                                    Grid.Row="1"
                                    Height="15"
                                    Margin="0,-2,0,0"
                                    Padding="0"
                                    HorizontalAlignment="Left"
                                    VerticalAlignment="Top"
                                    Content="Número de Identificación"
                                    FontSize="10"
                                    Style="{StaticResource Label_superior}" />
                            </Grid>
                            <!--  Buscar paciente  -->
                            <Controls:ButtonIcon Grid.Column="2">
                                <Controls:ButtonIcon.Style>
                                    <Style BasedOn="{StaticResource ButtonIconToolBarStyle}" TargetType="{x:Type Controls:ButtonIcon}">
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding pacienteViewModel.IsEmpty, Mode=OneWay, UpdateSourceTrigger=PropertyChanged}" Value="true">
                                                <Setter Property="Command" Value="{Binding PacienteSelectedRowSelectBySortKeyCommand}" />
                                                <Setter Property="Data" Value="{StaticResource Buscar_Geometry}" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding pacienteViewModel.IsEmpty, Mode=OneWay, UpdateSourceTrigger=PropertyChanged}" Value="false">
                                                <Setter Property="Command" Value="{Binding PacienteSelecteRowEmptyCommand}" />
                                                <Setter Property="Data" Value="{StaticResource Cancel_Geometry}" />
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </Controls:ButtonIcon.Style>
                            </Controls:ButtonIcon>
                            <!--  Nuevo paciente  -->
                            <Controls:ButtonIcon
                                Grid.Column="3"
                                Command="{Binding PacienteSelectedRowNewAddCommand}"
                                Data="{StaticResource Nuevo_Geometry}"
                                Style="{StaticResource ButtonIconToolBarStyle}" />
                            <!--  Guardar paciente  -->
                            <Controls:ButtonIcon
                                Grid.Column="4"
                                Command="{Binding pacienteTableViewModel.UpdateTableLookCurrentRowCommand}"
                                Data="{StaticResource Guardar_Geometry}"
                                Style="{StaticResource ButtonIconToolBarStyle}" />
                            <!--  Eliminar paciente  -->
                            <Controls:ButtonIcon
                                Grid.Column="5"
                                Command="{Binding pacienteTableViewModel.DeleteCurrentRowCommand}"
                                Data="{StaticResource Eliminar_Geometry}"
                                Style="{StaticResource ButtonIconToolBarStyle}" />
                        </Grid>
                    </Grid>
                    <!--  Texto respuesta  -->
                    <TextBlock
                        Grid.Row="3"
                        Grid.Column="1"
                        Margin="0,10,0,10"
                        HorizontalAlignment="Center"
                        VerticalAlignment="Center"
                        Text="{Binding pacienteViewModel.actionResponse.responseText, TargetNullValue=Nulo}"
                        TextWrapping="Wrap" />
                    <!--  Formulario Paciente  -->
                    <Grid
                        x:Name="PacienteUI_GridColpasable"
                        Grid.Row="4"
                        Grid.Column="1"
                        Height="auto"
                        Margin="0,0,0,25"
                        Tag="">
                        <WrapPanel x:Name="pacienteWrapPanel" HorizontalAlignment="Stretch">
                            <!--  Nombre(s)  -->
                            <Grid Style="{DynamicResource LabelControlGridStyle}">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="auto" />
                                    <RowDefinition Height="auto" />
                                </Grid.RowDefinitions>
                                <Label Grid.Row="0" Content="Nombre" Style="{StaticResource Label_superior}" />
                                <TextBox
                                    Grid.Row="1"
                                    IsEnabled="{Binding pacienteViewModel.IsEmpty, Converter={StaticResource boolToNegationConverter}}"
                                    Style="{DynamicResource TextBoxStyle}"
                                    TextWrapping="Wrap"
                                    Validation.ErrorTemplate="{StaticResource validationErrorTemplate}">
                                    <Binding
                                        Mode="TwoWay"
                                        Path="pacienteViewModel.rowSelected[nombre]"
                                        UpdateSourceTrigger="LostFocus"
                                        ValidatesOnDataErrors="True">
                                        <Binding.ValidationRules>
                                            <Bussines:ValidacionTextbox />
                                        </Binding.ValidationRules>
                                    </Binding>
                                </TextBox>
                            </Grid>
                            <!--  Apellido  -->
                            <Grid Style="{DynamicResource LabelControlGridStyle}">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="auto" />
                                    <RowDefinition Height="auto" />
                                </Grid.RowDefinitions>
                                <Label Grid.Row="0" Content="Apellido" Style="{DynamicResource Label_superior}" />
                                <TextBox
                                    Grid.Row="1"
                                    IsEnabled="{Binding pacienteViewModel.IsEmpty, Converter={StaticResource boolToNegationConverter}}"
                                    Style="{DynamicResource TextBoxStyle}"
                                    TextWrapping="Wrap"
                                    Validation.ErrorTemplate="{StaticResource validationErrorTemplate}">
                                    <Binding
                                        Mode="TwoWay"
                                        Path="pacienteViewModel.rowSelected[apellido]"
                                        UpdateSourceTrigger="LostFocus"
                                        ValidatesOnDataErrors="True">
                                        <Binding.ValidationRules>
                                            <Bussines:ValidacionTextbox />
                                        </Binding.ValidationRules>
                                    </Binding>
                                </TextBox>
                            </Grid>
                            <!--  NIN  -->
                            <Grid Style="{DynamicResource LabelControlGridStyle}">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="auto" />
                                    <RowDefinition Height="auto" />
                                </Grid.RowDefinitions>
                                <Label Grid.Row="0" Content="Número de identificación" Style="{DynamicResource Label_superior}" />
                                <TextBox
                                    Grid.Row="1"
                                    IsEnabled="{Binding pacienteViewModel.IsEmpty, Converter={StaticResource boolToNegationConverter}}"
                                    Style="{DynamicResource TextBoxStyle}"
                                    TextWrapping="Wrap"
                                    Validation.ErrorTemplate="{StaticResource validationErrorTemplate}">
                                    <Binding
                                        Mode="TwoWay"
                                        Path="pacienteViewModel.rowSelected[nin]"
                                        UpdateSourceTrigger="LostFocus"
                                        ValidatesOnDataErrors="True">
                                        <Binding.ValidationRules>
                                            <Bussines:ValidacionTextbox />
                                        </Binding.ValidationRules>
                                    </Binding>
                                </TextBox>
                            </Grid>
                            <!--  Fecha de nacimiento  -->
                            <Grid Style="{DynamicResource LabelControlGridStyle}">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="auto" />
                                    <RowDefinition Height="auto" />
                                </Grid.RowDefinitions>
                                <Label Grid.Row="0" Content="Fecha de nacimiento" Style="{DynamicResource Label_superior}" />
                                <DatePicker
                                    Grid.Row="1"
                                    IsEnabled="{Binding pacienteViewModel.IsEmpty, Converter={StaticResource boolToNegationConverter}}"
                                    Style="{DynamicResource DatePickerStyle}"
                                    Validation.ErrorTemplate="{StaticResource validationErrorTemplate}">
                                    <DatePicker.Text>
                                        <Binding Mode="TwoWay" Path="pacienteViewModel.rowSelected[nacimiento]" UpdateSourceTrigger="LostFocus">
                                            <Binding.ValidationRules>
                                                <Bussines:ValidacionTextbox />
                                            </Binding.ValidationRules>
                                        </Binding>
                                    </DatePicker.Text>
                                </DatePicker>
                            </Grid>
                            <!--  Edad  -->
                            <Grid Style="{DynamicResource LabelControlGridStyle}">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="auto" />
                                    <RowDefinition Height="auto" />
                                </Grid.RowDefinitions>
                                <Label Grid.Row="0" Content="Edad" Style="{DynamicResource Label_superior}" />
                                <TextBox
                                    Grid.Row="1"
                                    IsEnabled="{Binding pacienteViewModel.IsEmpty, Converter={StaticResource boolToNegationConverter}}"
                                    IsReadOnly="True"
                                    Style="{DynamicResource TextBoxStyle}">
                                    <Binding
                                        Converter="{StaticResource nacimientoFloatConverter}"
                                        Mode="OneWay"
                                        Path="pacienteViewModel.rowSelected[nacimiento]"
                                        StringFormat="{}{0:F1} años"
                                        TargetNullValue="Nulo"
                                        UpdateSourceTrigger="LostFocus">
                                        <Binding.ValidationRules>
                                            <Bussines:ValidacionTextbox />
                                        </Binding.ValidationRules>
                                    </Binding>
                                </TextBox>
                            </Grid>
                            <!--  Sexo  -->
                            <Grid Style="{DynamicResource LabelControlGridStyle}">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="auto" />
                                    <RowDefinition Height="auto" />
                                </Grid.RowDefinitions>
                                <Label Grid.Row="0" Content="Sexo" Style="{DynamicResource Label_superior}" />
                                <ComboBox
                                    Grid.Row="1"
                                    IsEnabled="{Binding pacienteViewModel.IsEmpty, Converter={StaticResource boolToNegationConverter}}"
                                    Style="{DynamicResource ComboBoxStyle}"
                                    Validation.ErrorTemplate="{StaticResource validationErrorTemplate}">
                                    <ComboBox.Text>
                                        <Binding
                                            Converter="{StaticResource hombreStringConverter}"
                                            FallbackValue="Sexo"
                                            Mode="TwoWay"
                                            Path="pacienteViewModel.rowSelected[hombre]"
                                            TargetNullValue="Sexo"
                                            UpdateSourceTrigger="LostFocus">
                                            <Binding.ValidationRules>
                                                <Bussines:ValidacionTextbox />
                                            </Binding.ValidationRules>
                                        </Binding>
                                    </ComboBox.Text>
                                    <ComboBoxItem Content="Sexo" />
                                    <ComboBoxItem Content="Hombre" />
                                    <ComboBoxItem Content="Mujer" />
                                </ComboBox>
                            </Grid>
                            <!--  TFG  -->
                            <Grid Style="{DynamicResource LabelControlGridStyle}">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="auto" />
                                    <RowDefinition Height="auto" />
                                </Grid.RowDefinitions>
                                <Label Grid.Row="0" Content="Tasa de filtración glomerular" Style="{DynamicResource Label_superior}" />
                                <TextBox
                                    Grid.Row="1"
                                    IsEnabled="{Binding pacienteViewModel.IsEmpty, Converter={StaticResource boolToNegationConverter}}"
                                    IsReadOnly="True"
                                    Style="{DynamicResource TextBoxStyle}">
                                    <Binding
                                        Mode="OneWay"
                                        Path="pacienteViewModel.tfg"
                                        StringFormat="{}{0:F3} mL/min"
                                        TargetNullValue="Nulo"
                                        UpdateSourceTrigger="LostFocus">
                                        <Binding.ValidationRules>
                                            <Bussines:ValidacionTextbox />
                                        </Binding.ValidationRules>
                                    </Binding>
                                </TextBox>
                            </Grid>
                        </WrapPanel>
                    </Grid>
                </Grid>
                <!--  Separador  -->
                <GridSplitter Grid.Row="2" HorizontalAlignment="Stretch" />
                <!--  IU Cuadrícula de datos de registro de paciente  -->
                <Grid Grid.Row="3">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="20" />
                        <RowDefinition Height="*" />
                    </Grid.RowDefinitions>
                    <Grid Background="{StaticResource Fondo2_brush}">
                        <TextBlock Margin="5,0" HorizontalAlignment="Center" Foreground="{DynamicResource Apagado_brush}"><Run Text="Regsitros del paciente" /></TextBlock>
                    </Grid>
                    <DataGrid
                        x:Name="registroCPP_dg"
                        Grid.Row="1"
                        Height="auto"
                        VerticalAlignment="Stretch"
                        AutoGenerateColumns="False"
                        CanUserAddRows="False"
                        CanUserDeleteRows="False"
                        GridLinesVisibility="None"
                        HeadersVisibility="Column"
                        ItemsSource="{Binding pacienteViewModel.childRegistroTableViewModel}"
                        SelectedItem="{Binding registroViewModel.rowSelected}"
                        SelectionMode="Single"
                        Style="{DynamicResource DataGridStyle}"
                        Template="{DynamicResource DataGridControlTemplate}">
                        <DataGrid.Resources>
                            <Style TargetType="{x:Type DataGridCell}">
                                <Setter Property="Margin" Value="10" />
                                <Style.Triggers>
                                    <Trigger Property="IsSelected" Value="True">
                                        <Setter Property="Background">
                                            <Setter.Value>
                                                <SolidColorBrush Opacity="0.1" Color="{StaticResource FrontalBase_color}" />
                                            </Setter.Value>
                                        </Setter>
                                        <Setter Property="Foreground" Value="{StaticResource Resalte_brush}" />
                                        <Setter Property="BorderBrush" Value="Transparent" />
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </DataGrid.Resources>
                        <DataGrid.ItemContainerStyle>
                            <Style TargetType="{x:Type DataGridRow}">
                                <Setter Property="Background" Value="Transparent" />
                                <Setter Property="Foreground" Value="{StaticResource Frontal_brush}" />
                            </Style>
                        </DataGrid.ItemContainerStyle>
                        <DataGrid.Columns>
                            <DataGridTextColumn Binding="{Binding idregistro}" Header="ID registro" IsReadOnly="True" />

                            <DataGridTemplateColumn Header="Fecha">
                                <DataGridTemplateColumn.CellTemplate>
                                    <DataTemplate>
                                        <TextBlock Text="{Binding fecha, StringFormat=\{0:yy/MM/dd\}}" />
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellTemplate>
                                <DataGridTemplateColumn.CellEditingTemplate>
                                    <DataTemplate>
                                        <DatePickerTextBox Text="{Binding fecha}" />
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellEditingTemplate>
                            </DataGridTemplateColumn>

                            <DataGridTemplateColumn Header="Talla">
                                <DataGridTemplateColumn.CellTemplate>
                                    <DataTemplate>
                                        <TextBlock Text="{Binding talla, StringFormat=\{0\} cm}" />
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellTemplate>
                                <DataGridTemplateColumn.CellEditingTemplate>
                                    <DataTemplate>
                                        <DatePickerTextBox Text="{Binding talla}" />
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellEditingTemplate>
                            </DataGridTemplateColumn>

                            <DataGridTemplateColumn Header="Peso">
                                <DataGridTemplateColumn.CellTemplate>
                                    <DataTemplate>
                                        <TextBlock Text="{Binding peso, StringFormat=\{0\} kg}" />
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellTemplate>
                                <DataGridTemplateColumn.CellEditingTemplate>
                                    <DataTemplate>
                                        <DatePickerTextBox Text="{Binding peso}" />
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellEditingTemplate>
                            </DataGridTemplateColumn>

                            <DataGridTextColumn Binding="{Binding imc}" Header="IMC" />

                            <DataGridTemplateColumn Header="Cintura">
                                <DataGridTemplateColumn.CellTemplate>
                                    <DataTemplate>
                                        <TextBlock Text="{Binding cintura, StringFormat=\{0\} cm}" />
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellTemplate>
                                <DataGridTemplateColumn.CellEditingTemplate>
                                    <DataTemplate>
                                        <DatePickerTextBox Text="{Binding cintura}" />
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellEditingTemplate>
                            </DataGridTemplateColumn>

                            <DataGridTemplateColumn Header="Cadera">
                                <DataGridTemplateColumn.CellTemplate>
                                    <DataTemplate>
                                        <TextBlock Text="{Binding cadera, StringFormat=\{0\} cm}" />
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellTemplate>
                                <DataGridTemplateColumn.CellEditingTemplate>
                                    <DataTemplate>
                                        <DatePickerTextBox Text="{Binding cadera}" />
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellEditingTemplate>
                            </DataGridTemplateColumn>

                            <DataGridTextColumn Binding="{Binding ic_c}" Header="IC-C" />

                            <DataGridTextColumn Binding="{Binding ic_a}" Header="IC-A" />

                            <DataGridTemplateColumn Header="Tipo de hipertensión">
                                <DataGridTemplateColumn.CellTemplate>
                                    <DataTemplate>
                                        <TextBlock Text="{Binding hta, Converter={StaticResource htaStringConverter}}" />
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellTemplate>
                                <DataGridTemplateColumn.CellEditingTemplate>
                                    <DataTemplate>
                                        <ComboBox>
                                            <ComboBox.Text>
                                                <Binding
                                                    Converter="{StaticResource htaStringConverter}"
                                                    Mode="TwoWay"
                                                    Path="hta"
                                                    UpdateSourceTrigger="LostFocus">
                                                    <Binding.ValidationRules>
                                                        <Bussines:ValidacionTextbox />
                                                    </Binding.ValidationRules>
                                                </Binding>
                                            </ComboBox.Text>
                                            <ComboBoxItem Content="Tipo de hipertensión" />
                                            <ComboBoxItem Content="Tipo 1" />
                                            <ComboBoxItem Content="Tipo 2" />
                                            <ComboBoxItem Content="Tipo 3" />
                                        </ComboBox>
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellEditingTemplate>

                            </DataGridTemplateColumn>

                            <DataGridTemplateColumn Header="Riesgo cardio">
                                <DataGridTemplateColumn.CellTemplate>
                                    <DataTemplate>
                                        <TextBlock Text="{Binding riesgo_cardio, Converter={StaticResource riesgo_cardioStringConverter}}" />
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellTemplate>
                                <DataGridTemplateColumn.CellEditingTemplate>
                                    <DataTemplate>
                                        <ComboBox>
                                            <ComboBox.Text>
                                                <Binding
                                                    Converter="{StaticResource riesgo_cardioStringConverter}"
                                                    Mode="TwoWay"
                                                    Path="riesgo_cardio"
                                                    UpdateSourceTrigger="LostFocus">
                                                    <Binding.ValidationRules>
                                                        <Bussines:ValidacionTextbox />
                                                    </Binding.ValidationRules>
                                                </Binding>
                                            </ComboBox.Text>
                                            <ComboBoxItem Content="Riesgo cardio" />
                                            <ComboBoxItem Content="Alto" />
                                            <ComboBoxItem Content="Medio" />
                                            <ComboBoxItem Content="Bajo" />
                                        </ComboBox>
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellEditingTemplate>
                            </DataGridTemplateColumn>

                            <DataGridTemplateColumn CanUserSort="True" Header="PAS" SortMemberPath="pas">
                                <DataGridTemplateColumn.CellTemplate>
                                    <DataTemplate>
                                        <TextBlock Foreground="{Binding pas, ConverterParameter=pas, Converter={StaticResource numberToColorConverter}}" Text="{Binding pas, StringFormat=\{0\} mm de Hg}" />
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellTemplate>
                                <DataGridTemplateColumn.CellEditingTemplate>
                                    <DataTemplate>
                                        <TextBlock Foreground="{Binding pas, ConverterParameter=pas, Converter={StaticResource numberToColorConverter}}" Text="{Binding pas}" />
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellEditingTemplate>
                            </DataGridTemplateColumn>

                            <DataGridTemplateColumn Header="PAD">
                                <DataGridTemplateColumn.CellTemplate>
                                    <DataTemplate>
                                        <TextBlock Text="{Binding pad, StringFormat=\{0\} mm de Hg}" />
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellTemplate>
                                <DataGridTemplateColumn.CellEditingTemplate>
                                    <DataTemplate>
                                        <DatePickerTextBox Text="{Binding pad}" />
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellEditingTemplate>
                            </DataGridTemplateColumn>

                            <DataGridTemplateColumn Header="PAM">
                                <DataGridTemplateColumn.CellTemplate>
                                    <DataTemplate>
                                        <TextBlock Text="{Binding pam, StringFormat=\{0\} mm de Hg}" />
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellTemplate>
                                <DataGridTemplateColumn.CellEditingTemplate>
                                    <DataTemplate>
                                        <DatePickerTextBox Text="{Binding pam}" />
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellEditingTemplate>
                            </DataGridTemplateColumn>

                            <DataGridTemplateColumn Header="FC">
                                <DataGridTemplateColumn.CellTemplate>
                                    <DataTemplate>
                                        <TextBlock Text="{Binding fc, StringFormat=\{0\} ltm/min}" />
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellTemplate>
                                <DataGridTemplateColumn.CellEditingTemplate>
                                    <DataTemplate>
                                        <DatePickerTextBox Text="{Binding fc}" />
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellEditingTemplate>
                            </DataGridTemplateColumn>

                            <DataGridTemplateColumn CanUserSort="True" Header="COL" SortMemberPath="col">
                                <DataGridTemplateColumn.CellTemplate>
                                    <DataTemplate>
                                        <TextBlock Foreground="{Binding col, ConverterParameter=col, Converter={StaticResource numberToColorConverter}}" Text="{Binding col, StringFormat=\{0\} mg/dl}" />
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellTemplate>
                                <DataGridTemplateColumn.CellEditingTemplate>
                                    <DataTemplate>
                                        <DatePickerTextBox Foreground="{Binding col, ConverterParameter=col, Converter={StaticResource numberToColorConverter}}" Text="{Binding col}" />
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellEditingTemplate>
                            </DataGridTemplateColumn>

                            <DataGridTemplateColumn Header="TRG">
                                <DataGridTemplateColumn.CellTemplate>
                                    <DataTemplate>
                                        <TextBlock Text="{Binding trg, StringFormat=\{0\} mg/dl}" />
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellTemplate>
                                <DataGridTemplateColumn.CellEditingTemplate>
                                    <DataTemplate>
                                        <DatePickerTextBox Text="{Binding trg}" />
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellEditingTemplate>
                            </DataGridTemplateColumn>

                            <DataGridTemplateColumn Header="HDL">
                                <DataGridTemplateColumn.CellTemplate>
                                    <DataTemplate>
                                        <TextBlock Text="{Binding hdl, StringFormat=\{0\} mg/dl}" />
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellTemplate>
                                <DataGridTemplateColumn.CellEditingTemplate>
                                    <DataTemplate>
                                        <DatePickerTextBox Text="{Binding hdl}" />
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellEditingTemplate>
                            </DataGridTemplateColumn>

                            <DataGridTemplateColumn Header="LDL">
                                <DataGridTemplateColumn.CellTemplate>
                                    <DataTemplate>
                                        <TextBlock Text="{Binding ldl, StringFormat=\{0\} mg/dl}" />
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellTemplate>
                                <DataGridTemplateColumn.CellEditingTemplate>
                                    <DataTemplate>
                                        <DatePickerTextBox Text="{Binding ldl}" />
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellEditingTemplate>
                            </DataGridTemplateColumn>

                            <DataGridTemplateColumn Header="VLDL">
                                <DataGridTemplateColumn.CellTemplate>
                                    <DataTemplate>
                                        <TextBlock Text="{Binding vldl, StringFormat=\{0\} mg/dl}" />
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellTemplate>
                                <DataGridTemplateColumn.CellEditingTemplate>
                                    <DataTemplate>
                                        <DatePickerTextBox Text="{Binding vldl}" />
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellEditingTemplate>
                            </DataGridTemplateColumn>

                            <DataGridTemplateColumn Header="Agua">
                                <DataGridTemplateColumn.CellTemplate>
                                    <DataTemplate>
                                        <TextBlock Text="{Binding agua, StringFormat=\{0:P\}}" />
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellTemplate>
                                <DataGridTemplateColumn.CellEditingTemplate>
                                    <DataTemplate>
                                        <DatePickerTextBox Text="{Binding agua}" />
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellEditingTemplate>
                            </DataGridTemplateColumn>

                            <DataGridTemplateColumn Header="Grasa">
                                <DataGridTemplateColumn.CellTemplate>
                                    <DataTemplate>
                                        <TextBlock Text="{Binding grasa, StringFormat=\{0:P\}, TargetNullValue=''}" />
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellTemplate>
                                <DataGridTemplateColumn.CellEditingTemplate>
                                    <DataTemplate>
                                        <DatePickerTextBox Text="{Binding grasa}" />
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellEditingTemplate>
                            </DataGridTemplateColumn>

                            <DataGridTemplateColumn Header="Peso oseo">
                                <DataGridTemplateColumn.CellTemplate>
                                    <DataTemplate>
                                        <TextBlock Text="{Binding peso_oseo, StringFormat=\{0\} kg}" />
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellTemplate>
                                <DataGridTemplateColumn.CellEditingTemplate>
                                    <DataTemplate>
                                        <DatePickerTextBox Text="{Binding peso_oseo}" />
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellEditingTemplate>
                            </DataGridTemplateColumn>

                            <DataGridTemplateColumn Header="GLU">
                                <DataGridTemplateColumn.CellTemplate>
                                    <DataTemplate>
                                        <TextBlock Text="{Binding glu, StringFormat=\{0\} mg/dc}" />
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellTemplate>
                                <DataGridTemplateColumn.CellEditingTemplate>
                                    <DataTemplate>
                                        <DatePickerTextBox Text="{Binding glu}" />
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellEditingTemplate>
                            </DataGridTemplateColumn>

                            <DataGridTemplateColumn Header="TSH">
                                <DataGridTemplateColumn.CellTemplate>
                                    <DataTemplate>
                                        <TextBlock Text="{Binding tsh, StringFormat=\{0\} mlU/L}" />
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellTemplate>
                                <DataGridTemplateColumn.CellEditingTemplate>
                                    <DataTemplate>
                                        <DatePickerTextBox Text="{Binding tsh}" />
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellEditingTemplate>
                            </DataGridTemplateColumn>

                            <DataGridTemplateColumn Header="Creatinina">
                                <DataGridTemplateColumn.CellTemplate>
                                    <DataTemplate>
                                        <TextBlock Text="{Binding creatinina, StringFormat=\{0\} mg/dL}" />
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellTemplate>
                                <DataGridTemplateColumn.CellEditingTemplate>
                                    <DataTemplate>
                                        <DatePickerTextBox Text="{Binding creatinina}" />
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellEditingTemplate>
                            </DataGridTemplateColumn>

                            <DataGridTemplateColumn Header="M.Album">
                                <DataGridTemplateColumn.CellTemplate>
                                    <DataTemplate>
                                        <TextBlock Text="{Binding m_album, StringFormat=\{0:P\}}" />
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellTemplate>
                                <DataGridTemplateColumn.CellEditingTemplate>
                                    <DataTemplate>
                                        <DatePickerTextBox Text="{Binding m_album}" />
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellEditingTemplate>
                            </DataGridTemplateColumn>

                            <DataGridTemplateColumn Header="HbA1c">
                                <DataGridTemplateColumn.CellTemplate>
                                    <DataTemplate>
                                        <TextBlock Text="{Binding hba1c, StringFormat=\{0:P\}}" />
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellTemplate>
                                <DataGridTemplateColumn.CellEditingTemplate>
                                    <DataTemplate>
                                        <DatePickerTextBox Text="{Binding hba1c}" />
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellEditingTemplate>
                            </DataGridTemplateColumn>

                            <DataGridTextColumn Binding="{Binding paraclinicos}" Header="Paraclinicos" />

                            <DataGridTextColumn Binding="{Binding observacion}" Header="Observacion" />

                            <DataGridTextColumn Binding="{Binding formulacion}" Header="Formulacion" />

                        </DataGrid.Columns>
                    </DataGrid>
                </Grid>

            </Grid>
            <!--  Separador  -->
            <GridSplitter
                x:Name="UIRegistro_GridSplitter"
                Grid.Column="1"
                HorizontalAlignment="Stretch"
                BorderThickness="3"
                Template="{DynamicResource GridSplitterControlTemplate}" />
            <!--  UI gestión registros  -->
            <Grid
                x:Name="UIRegistro_Grid"
                Grid.Column="2"
                Width="600"
                HorizontalAlignment="Stretch">
                <Grid.RowDefinitions>
                    <RowDefinition Height="5" />
                    <RowDefinition Height="10" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="auto" />
                    <RowDefinition />
                </Grid.RowDefinitions>
                <Rectangle Grid.Row="0" Grid.Column="0" Fill="{DynamicResource Resalte_brush}" />
                <!--  Barra de herramientas  -->
                <Grid
                    Grid.Row="2"
                    Margin="5,0"
                    AllowDrop="True"
                    Style="{DynamicResource ToolBarGridStyle}">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="10" />
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="10" />
                    </Grid.ColumnDefinitions>
                    <Grid Grid.Column="1">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="52" />
                            <ColumnDefinition Width="200" />
                            <ColumnDefinition Width="*" MinWidth="25" />
                            <ColumnDefinition Width="*" MinWidth="25" />
                            <ColumnDefinition Width="*" MinWidth="25" />
                            <ColumnDefinition Width="*" MinWidth="25" />
                            <ColumnDefinition Width="*" MinWidth="25" />
                            <ColumnDefinition Width="*" MinWidth="25" />
                        </Grid.ColumnDefinitions>
                        <TextBlock
                            Grid.Column="0"
                            Padding="0,9,9,0"
                            VerticalAlignment="Top"
                            Foreground="{DynamicResource Resalte_brush}"><Run Text="Registro" /></TextBlock>
                        <Grid Grid.Column="1" Width="200">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="auto" />
                                <RowDefinition Height="auto" />
                            </Grid.RowDefinitions>
                            <DatePicker
                                x:Name="fecha_dp"
                                Grid.Column="1"
                                Height="20"
                                SelectedDateFormat="Long"
                                Style="{StaticResource DatePickerStyle}">
                                <DatePicker.Text>
                                    <Binding
                                        Mode="TwoWay"
                                        NotifyOnValidationError="True"
                                        Path="registroViewModel.rowSelected[fecha]"
                                        TargetNullValue="Nulo"
                                        UpdateSourceTrigger="LostFocus"
                                        ValidatesOnDataErrors="True">
                                        <Binding.ValidationRules>
                                            <Bussines:ValidacionTextbox />
                                        </Binding.ValidationRules>
                                    </Binding>
                                </DatePicker.Text>
                            </DatePicker>
                            <Label
                                Grid.Row="1"
                                Height="15"
                                Margin="0,-2,0,0"
                                Padding="0"
                                HorizontalAlignment="Left"
                                VerticalAlignment="Top"
                                Content="Fecha de atención"
                                FontSize="10"
                                Style="{StaticResource Label_superior}" />
                        </Grid>
                        <Button
                            Grid.Column="2"
                            Width="Auto"
                            Margin="2,4,2,0"
                            HorizontalAlignment="Stretch"
                            VerticalAlignment="Top"
                            Command="{Binding RegistroSelectedRowNewAddRowCommand}">
                            <Path Style="{DynamicResource buscar_Path}" />
                        </Button>
                        <Button
                            Grid.Column="3"
                            Width="Auto"
                            Margin="2,4,2,0"
                            HorizontalAlignment="Stretch"
                            VerticalAlignment="Top"
                            Command="{Binding RegistroSelectedRowNewAddRowCommand}">
                            <Path Style="{DynamicResource nuevo_Path}" />
                        </Button>
                        <Button
                            Grid.Column="4"
                            Width="Auto"
                            Margin="2,4,2,0"
                            HorizontalAlignment="Stretch"
                            VerticalAlignment="Top"
                            Command="{Binding registroTableViewModel.RowSelectedDuplicateCommand}">
                            <Path Style="{DynamicResource duplicar_Path}" />
                        </Button>
                        <Button
                            Grid.Column="5"
                            Width="Auto"
                            Margin="2,4,2,0"
                            HorizontalAlignment="Stretch"
                            VerticalAlignment="Top"
                            Command="{Binding registroTableViewModel.UpdateTableCommand}">
                            <Path Style="{DynamicResource guardar_Path}" />
                        </Button>
                        <Button
                            Grid.Column="6"
                            Width="Auto"
                            Margin="2,4,2,0"
                            HorizontalAlignment="Stretch"
                            VerticalAlignment="Top"
                            Command="{Binding registroTableViewModel.DeleteCurrentRowCommand}">
                            <Path Style="{DynamicResource eliminar_Path}" />
                        </Button>
                        <Button
                            Grid.Column="7"
                            Width="Auto"
                            Margin="2,4,2,0"
                            HorizontalAlignment="Stretch"
                            VerticalAlignment="Top"
                            Command="{Binding registroViewModel.CancelEditCommand}">
                            <Path Style="{DynamicResource deshacer_Path}" />
                        </Button>
                    </Grid>
                </Grid>

                <!--  Vista desplazable  -->
                <ScrollViewer Grid.Row="4" Template="{DynamicResource ScrollViewerControlTemplate}">
                    <ScrollViewer.Resources>
                        <Style TargetType="{x:Type WrapPanel}">
                            <Style.Resources>
                                <Style BasedOn="{StaticResource TextBoxStyle}" TargetType="{x:Type TextBox}">
                                    <Setter Property="Validation.ErrorTemplate" Value="{StaticResource validationErrorTemplate}" />
                                </Style>
                                <Style BasedOn="{StaticResource DatePickerStyle}" TargetType="{x:Type DatePicker}">
                                    <Setter Property="Validation.ErrorTemplate" Value="{StaticResource validationErrorTemplate}" />
                                </Style>
                                <Style BasedOn="{StaticResource ComboBoxStyle}" TargetType="{x:Type ComboBox}">
                                    <Setter Property="Validation.ErrorTemplate" Value="{StaticResource validationErrorTemplate}" />
                                </Style>
                                <Style BasedOn="{StaticResource Label_superior}" TargetType="{x:Type Label}">
                                    <Setter Property="Validation.ErrorTemplate" Value="{StaticResource validationErrorTemplate}" />
                                </Style>
                            </Style.Resources>
                        </Style>
                    </ScrollViewer.Resources>
                    <Grid Grid.Column="1" Grid.ColumnSpan="2">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="25" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="25" />
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="10" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="0*" />
                        </Grid.RowDefinitions>

                        <!--  DATOS BÁSICOS  -->
                        <Expander
                            Grid.Row="1"
                            Grid.Column="1"
                            Margin="0,0,0,25"
                            Header="Datos básicos"
                            IsExpanded="True">
                            <WrapPanel>
                                <!--  Talla  -->
                                <Grid Style="{DynamicResource LabelControlGridStyle}">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="auto" />
                                        <RowDefinition Height="auto" />
                                    </Grid.RowDefinitions>
                                    <Label Content="Talla" />
                                    <TextBox
                                        x:Name="talla_tb"
                                        Grid.Row="1"
                                        TextWrapping="Wrap"
                                        Validation.ErrorTemplate="{StaticResource validationErrorTemplate}">
                                        <TextBox.Style>
                                            <Style BasedOn="{StaticResource TextBoxStyle}" TargetType="{x:Type TextBox}">
                                                <Style.Triggers>
                                                    <Trigger Property="Control.IsFocused" Value="True">
                                                        <Setter Property="Text">
                                                            <Setter.Value>
                                                                <Binding
                                                                    Mode="TwoWay"
                                                                    NotifyOnValidationError="True"
                                                                    Path="registroViewModel.rowSelected[talla]"
                                                                    UpdateSourceTrigger="LostFocus"
                                                                    ValidatesOnDataErrors="True">
                                                                    <Binding.ValidationRules>
                                                                        <Bussines:ValidacionTextbox />
                                                                    </Binding.ValidationRules>
                                                                </Binding>
                                                            </Setter.Value>
                                                        </Setter>
                                                    </Trigger>
                                                    <Trigger Property="Control.IsFocused" Value="False">
                                                        <Setter Property="Text">
                                                            <Setter.Value>
                                                                <Binding
                                                                    Mode="TwoWay"
                                                                    NotifyOnValidationError="True"
                                                                    Path="registroViewModel.rowSelected[talla]"
                                                                    StringFormat="{}{0} cm"
                                                                    UpdateSourceTrigger="LostFocus"
                                                                    ValidatesOnDataErrors="True">
                                                                    <Binding.ValidationRules>
                                                                        <Bussines:ValidacionTextbox />
                                                                    </Binding.ValidationRules>
                                                                </Binding>
                                                            </Setter.Value>
                                                        </Setter>
                                                    </Trigger>
                                                </Style.Triggers>
                                            </Style>
                                        </TextBox.Style>
                                    </TextBox>
                                </Grid>
                                <!--  Peso  -->
                                <Grid Style="{DynamicResource LabelControlGridStyle}">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="auto" />
                                        <RowDefinition Height="auto" />
                                    </Grid.RowDefinitions>
                                    <Label Content="Peso" />
                                    <TextBox
                                        x:Name="peso_tb"
                                        Grid.Row="1"
                                        TextWrapping="Wrap"
                                        Validation.ErrorTemplate="{StaticResource validationErrorTemplate}">
                                        <!--<Binding Mode="TwoWay" Path="registroViewModel.rowSelected[peso]" UpdateSourceTrigger="LostFocus">
                                            <Binding.ValidationRules>
                                                <Bussines:ValidacionTextbox />
                                            </Binding.ValidationRules>
                                        </Binding>-->
                                        <TextBox.Style>
                                            <Style BasedOn="{StaticResource TextBoxStyle}" TargetType="{x:Type TextBox}">
                                                <Style.Triggers>
                                                    <Trigger Property="Control.IsFocused" Value="True">
                                                        <Setter Property="Text">
                                                            <Setter.Value>
                                                                <Binding
                                                                    Mode="TwoWay"
                                                                    NotifyOnValidationError="True"
                                                                    Path="registroViewModel.rowSelected[peso]"
                                                                    UpdateSourceTrigger="LostFocus"
                                                                    ValidatesOnDataErrors="True">
                                                                    <Binding.ValidationRules>
                                                                        <Bussines:ValidacionTextbox />
                                                                    </Binding.ValidationRules>
                                                                </Binding>
                                                            </Setter.Value>
                                                        </Setter>
                                                    </Trigger>
                                                    <Trigger Property="Control.IsFocused" Value="False">
                                                        <Setter Property="Text">
                                                            <Setter.Value>
                                                                <Binding
                                                                    Mode="TwoWay"
                                                                    NotifyOnValidationError="True"
                                                                    Path="registroViewModel.rowSelected[peso]"
                                                                    StringFormat="{}{0} kg"
                                                                    UpdateSourceTrigger="LostFocus"
                                                                    ValidatesOnDataErrors="True">
                                                                    <Binding.ValidationRules>
                                                                        <Bussines:ValidacionTextbox />
                                                                    </Binding.ValidationRules>
                                                                </Binding>
                                                            </Setter.Value>
                                                        </Setter>
                                                    </Trigger>
                                                </Style.Triggers>
                                            </Style>
                                        </TextBox.Style>
                                    </TextBox>
                                </Grid>
                                <!--  IMC  -->
                                <Grid Style="{DynamicResource LabelControlGridStyle}">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="auto" />
                                        <RowDefinition Height="auto" />
                                    </Grid.RowDefinitions>
                                    <Label Content="Índice de masa corporal" />
                                    <TextBox
                                        x:Name="imc_tb"
                                        Grid.Row="1"
                                        TextWrapping="Wrap"
                                        Validation.ErrorTemplate="{StaticResource validationErrorTemplate}">
                                        <Binding Mode="TwoWay" Path="registroViewModel.rowSelected[imc]" UpdateSourceTrigger="LostFocus">
                                            <Binding.ValidationRules>
                                                <Bussines:ValidacionTextbox />
                                            </Binding.ValidationRules>
                                        </Binding>
                                    </TextBox>
                                </Grid>
                                <!--  Cintura  -->
                                <Grid Style="{DynamicResource LabelControlGridStyle}">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="auto" />
                                        <RowDefinition Height="auto" />
                                    </Grid.RowDefinitions>
                                    <Label Content="Cintura" />
                                    <TextBox
                                        x:Name="cintura_tb"
                                        Grid.Row="1"
                                        TextWrapping="Wrap"
                                        Validation.ErrorTemplate="{StaticResource validationErrorTemplate}">
                                        <!--<Binding Mode="TwoWay" Path="registroViewModel.rowSelected[cintura]" UpdateSourceTrigger="LostFocus">
                                            <Binding.ValidationRules>
                                                <Bussines:ValidacionTextbox />
                                            </Binding.ValidationRules>
                                        </Binding>-->
                                        <TextBox.Style>
                                            <Style BasedOn="{StaticResource TextBoxStyle}" TargetType="{x:Type TextBox}">
                                                <Style.Triggers>
                                                    <Trigger Property="Control.IsFocused" Value="True">
                                                        <Setter Property="Text">
                                                            <Setter.Value>
                                                                <Binding
                                                                    Mode="TwoWay"
                                                                    NotifyOnValidationError="True"
                                                                    Path="registroViewModel.rowSelected[cintura]"
                                                                    UpdateSourceTrigger="LostFocus"
                                                                    ValidatesOnDataErrors="True">
                                                                    <Binding.ValidationRules>
                                                                        <Bussines:ValidacionTextbox />
                                                                    </Binding.ValidationRules>
                                                                </Binding>
                                                            </Setter.Value>
                                                        </Setter>
                                                    </Trigger>
                                                    <Trigger Property="Control.IsFocused" Value="False">
                                                        <Setter Property="Text">
                                                            <Setter.Value>
                                                                <Binding
                                                                    Mode="TwoWay"
                                                                    NotifyOnValidationError="True"
                                                                    Path="registroViewModel.rowSelected[cintura]"
                                                                    StringFormat="{}{0} cm"
                                                                    UpdateSourceTrigger="LostFocus"
                                                                    ValidatesOnDataErrors="True">
                                                                    <Binding.ValidationRules>
                                                                        <Bussines:ValidacionTextbox />
                                                                    </Binding.ValidationRules>
                                                                </Binding>
                                                            </Setter.Value>
                                                        </Setter>
                                                    </Trigger>
                                                </Style.Triggers>
                                            </Style>
                                        </TextBox.Style>
                                    </TextBox>
                                </Grid>
                                <!--  Cadera  -->
                                <Grid Style="{DynamicResource LabelControlGridStyle}">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="auto" />
                                        <RowDefinition Height="auto" />
                                    </Grid.RowDefinitions>
                                    <Label Content="Cadera" />
                                    <TextBox
                                        x:Name="cadera_tb"
                                        Grid.Row="1"
                                        TextWrapping="Wrap"
                                        Validation.ErrorTemplate="{StaticResource validationErrorTemplate}">
                                        <!--<Binding Mode="TwoWay" Path="registroViewModel.rowSelected[cadera]" UpdateSourceTrigger="LostFocus">
                                            <Binding.ValidationRules>
                                                <Bussines:ValidacionTextbox />
                                            </Binding.ValidationRules>
                                        </Binding>-->
                                        <TextBox.Style>
                                            <Style BasedOn="{StaticResource TextBoxStyle}" TargetType="{x:Type TextBox}">
                                                <Style.Triggers>
                                                    <Trigger Property="Control.IsFocused" Value="True">
                                                        <Setter Property="Text">
                                                            <Setter.Value>
                                                                <Binding
                                                                    Mode="TwoWay"
                                                                    NotifyOnValidationError="True"
                                                                    Path="registroViewModel.rowSelected[cadera]"
                                                                    UpdateSourceTrigger="LostFocus"
                                                                    ValidatesOnDataErrors="True">
                                                                    <Binding.ValidationRules>
                                                                        <Bussines:ValidacionTextbox />
                                                                    </Binding.ValidationRules>
                                                                </Binding>
                                                            </Setter.Value>
                                                        </Setter>
                                                    </Trigger>
                                                    <Trigger Property="Control.IsFocused" Value="False">
                                                        <Setter Property="Text">
                                                            <Setter.Value>
                                                                <Binding
                                                                    Mode="TwoWay"
                                                                    NotifyOnValidationError="True"
                                                                    Path="registroViewModel.rowSelected[cadera]"
                                                                    StringFormat="{}{0} cm"
                                                                    UpdateSourceTrigger="LostFocus"
                                                                    ValidatesOnDataErrors="True">
                                                                    <Binding.ValidationRules>
                                                                        <Bussines:ValidacionTextbox />
                                                                    </Binding.ValidationRules>
                                                                </Binding>
                                                            </Setter.Value>
                                                        </Setter>
                                                    </Trigger>
                                                </Style.Triggers>
                                            </Style>
                                        </TextBox.Style>
                                    </TextBox>
                                </Grid>
                                <!--  IC-C  -->
                                <Grid Style="{DynamicResource LabelControlGridStyle}">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="auto" />
                                        <RowDefinition Height="auto" />
                                    </Grid.RowDefinitions>
                                    <Label Content="IC-C" />
                                    <TextBox
                                        x:Name="icc_tb"
                                        Grid.Row="1"
                                        TextWrapping="Wrap"
                                        Validation.ErrorTemplate="{StaticResource validationErrorTemplate}">
                                        <Binding Mode="TwoWay" Path="registroViewModel.rowSelected[ic_c]" UpdateSourceTrigger="LostFocus">
                                            <Binding.ValidationRules>
                                                <Bussines:ValidacionTextbox />
                                            </Binding.ValidationRules>
                                        </Binding>
                                    </TextBox>
                                </Grid>
                                <!--  IC-A  -->
                                <Grid Style="{DynamicResource LabelControlGridStyle}">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="auto" />
                                        <RowDefinition Height="auto" />
                                    </Grid.RowDefinitions>
                                    <Label Content="IC-A" />
                                    <TextBox
                                        x:Name="ica_tb"
                                        Grid.Row="1"
                                        TextWrapping="Wrap"
                                        Validation.ErrorTemplate="{StaticResource validationErrorTemplate}">
                                        <Binding Mode="TwoWay" Path="registroViewModel.rowSelected[ic_a]" UpdateSourceTrigger="LostFocus">
                                            <Binding.ValidationRules>
                                                <Bussines:ValidacionTextbox />
                                            </Binding.ValidationRules>
                                        </Binding>
                                    </TextBox>
                                </Grid>
                            </WrapPanel>
                        </Expander>
                        <!--  CARDIOVASCULAR  -->
                        <Expander
                            Grid.Row="2"
                            Grid.Column="1"
                            Margin="0,0,0,25"
                            Header="Cardiovascular"
                            IsExpanded="True">
                            <WrapPanel>
                                <!--  Tipo HTA  -->
                                <Grid Style="{DynamicResource LabelControlGridStyle}">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="auto" />
                                        <RowDefinition Height="auto" />
                                    </Grid.RowDefinitions>
                                    <Label Content="Tipo de hipertensión" />
                                    <ComboBox x:Name="hta_cb" Grid.Row="1" Validation.ErrorTemplate="{StaticResource validationErrorTemplate}">
                                        <ComboBox.Text>
                                            <Binding
                                                Converter="{StaticResource htaStringConverter}"
                                                Mode="TwoWay"
                                                Path="registroViewModel.rowSelected[hta]"
                                                UpdateSourceTrigger="LostFocus">
                                                <Binding.ValidationRules>
                                                    <Bussines:ValidacionTextbox />
                                                </Binding.ValidationRules>
                                            </Binding>
                                        </ComboBox.Text>
                                        <ComboBoxItem Content="Tipo de hipertensión" />
                                        <ComboBoxItem Content="Tipo 1" />
                                        <ComboBoxItem Content="Tipo 2" />
                                        <ComboBoxItem Content="Tipo 3" />
                                    </ComboBox>
                                </Grid>
                                <!--  FC  -->
                                <Grid Style="{DynamicResource LabelControlGridStyle}">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="auto" />
                                        <RowDefinition Height="auto" />
                                    </Grid.RowDefinitions>
                                    <Label Content="Frecuendia cardiaca" />
                                    <TextBox
                                        x:Name="fc_tb"
                                        Grid.Row="1"
                                        TextWrapping="Wrap"
                                        Validation.ErrorTemplate="{StaticResource validationErrorTemplate}">

                                        <TextBox.Style>
                                            <Style BasedOn="{StaticResource TextBoxStyle}" TargetType="{x:Type TextBox}">
                                                <Style.Triggers>
                                                    <Trigger Property="Control.IsFocused" Value="True">
                                                        <Setter Property="Text">
                                                            <Setter.Value>
                                                                <Binding
                                                                    Mode="TwoWay"
                                                                    NotifyOnValidationError="True"
                                                                    Path="registroViewModel.rowSelected[fc]"
                                                                    UpdateSourceTrigger="LostFocus"
                                                                    ValidatesOnDataErrors="True">
                                                                    <Binding.ValidationRules>
                                                                        <Bussines:ValidacionTextbox />
                                                                    </Binding.ValidationRules>
                                                                </Binding>
                                                            </Setter.Value>
                                                        </Setter>
                                                    </Trigger>
                                                    <Trigger Property="Control.IsFocused" Value="False">
                                                        <Setter Property="Text">
                                                            <Setter.Value>
                                                                <Binding
                                                                    Mode="TwoWay"
                                                                    NotifyOnValidationError="True"
                                                                    Path="registroViewModel.rowSelected[fc]"
                                                                    StringFormat="{}{0} ltm/min"
                                                                    UpdateSourceTrigger="LostFocus"
                                                                    ValidatesOnDataErrors="True">
                                                                    <Binding.ValidationRules>
                                                                        <Bussines:ValidacionTextbox />
                                                                    </Binding.ValidationRules>
                                                                </Binding>
                                                            </Setter.Value>
                                                        </Setter>
                                                    </Trigger>
                                                </Style.Triggers>
                                            </Style>
                                        </TextBox.Style>
                                    </TextBox>
                                </Grid>
                                <!--  Riesgo cardio  -->
                                <Grid Style="{DynamicResource LabelControlGridStyle}">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="auto" />
                                        <RowDefinition Height="auto" />
                                    </Grid.RowDefinitions>
                                    <Label Content="Riesgo cardio" />
                                    <ComboBox x:Name="riesgo_cardio_cb" Grid.Row="1" Validation.ErrorTemplate="{StaticResource validationErrorTemplate}">
                                        <ComboBox.Text>
                                            <Binding
                                                Converter="{StaticResource riesgo_cardioStringConverter}"
                                                Mode="TwoWay"
                                                Path="registroViewModel.rowSelected[riesgo_cardio]"
                                                UpdateSourceTrigger="LostFocus">
                                                <Binding.ValidationRules>
                                                    <Bussines:ValidacionTextbox />
                                                </Binding.ValidationRules>
                                            </Binding>
                                        </ComboBox.Text>
                                        <ComboBoxItem Content="Riesgo cardio" />
                                        <ComboBoxItem Content="Alto" />
                                        <ComboBoxItem Content="Medio" />
                                        <ComboBoxItem Content="Bajo" />
                                    </ComboBox>
                                </Grid>
                                <!--  PAS  -->
                                <Grid Style="{DynamicResource LabelControlGridStyle}">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="auto" />
                                        <RowDefinition Height="auto" />
                                    </Grid.RowDefinitions>
                                    <Label Content="Presión arterial sistólica" />
                                    <TextBox
                                        x:Name="pas_tb"
                                        Grid.Row="1"
                                        TextWrapping="Wrap"
                                        Validation.ErrorTemplate="{StaticResource validationErrorTemplate}">
                                        <!--<Binding Mode="TwoWay" Path="registroViewModel.rowSelected[pas]" UpdateSourceTrigger="LostFocus">
                                            <Binding.ValidationRules>
                                                <Bussines:ValidacionTextbox />
                                            </Binding.ValidationRules>
                                        </Binding>-->
                                        <TextBox.Style>
                                            <Style BasedOn="{StaticResource TextBoxStyle}" TargetType="{x:Type TextBox}">
                                                <Style.Triggers>
                                                    <Trigger Property="Control.IsFocused" Value="True">
                                                        <Setter Property="Text">
                                                            <Setter.Value>
                                                                <Binding
                                                                    Mode="TwoWay"
                                                                    NotifyOnValidationError="True"
                                                                    Path="registroViewModel.rowSelected[pas]"
                                                                    UpdateSourceTrigger="LostFocus"
                                                                    ValidatesOnDataErrors="True">
                                                                    <Binding.ValidationRules>
                                                                        <Bussines:ValidacionTextbox />
                                                                    </Binding.ValidationRules>
                                                                </Binding>
                                                            </Setter.Value>
                                                        </Setter>
                                                    </Trigger>
                                                    <Trigger Property="Control.IsFocused" Value="False">
                                                        <Setter Property="Text">
                                                            <Setter.Value>
                                                                <Binding
                                                                    Mode="TwoWay"
                                                                    NotifyOnValidationError="True"
                                                                    Path="registroViewModel.rowSelected[pas]"
                                                                    StringFormat="{}{0} mm de Hg"
                                                                    UpdateSourceTrigger="LostFocus"
                                                                    ValidatesOnDataErrors="True">
                                                                    <Binding.ValidationRules>
                                                                        <Bussines:ValidacionTextbox />
                                                                    </Binding.ValidationRules>
                                                                </Binding>
                                                            </Setter.Value>
                                                        </Setter>
                                                    </Trigger>
                                                </Style.Triggers>
                                            </Style>
                                        </TextBox.Style>
                                    </TextBox>
                                </Grid>
                                <!--  PAD  -->
                                <Grid Style="{DynamicResource LabelControlGridStyle}">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="auto" />
                                        <RowDefinition Height="auto" />
                                    </Grid.RowDefinitions>
                                    <Label Content="Presión arterial diastólica" />
                                    <TextBox
                                        x:Name="pad_tb"
                                        Grid.Row="1"
                                        TextWrapping="Wrap"
                                        Validation.ErrorTemplate="{StaticResource validationErrorTemplate}">
                                        <!--<Binding Mode="TwoWay" Path="registroViewModel.rowSelected[pad]" UpdateSourceTrigger="LostFocus">
                                            <Binding.ValidationRules>
                                                <Bussines:ValidacionTextbox />
                                            </Binding.ValidationRules>
                                        </Binding>-->
                                        <TextBox.Style>
                                            <Style BasedOn="{StaticResource TextBoxStyle}" TargetType="{x:Type TextBox}">
                                                <Style.Triggers>
                                                    <Trigger Property="Control.IsFocused" Value="True">
                                                        <Setter Property="Text">
                                                            <Setter.Value>
                                                                <Binding
                                                                    Mode="TwoWay"
                                                                    NotifyOnValidationError="True"
                                                                    Path="registroViewModel.rowSelected[pad]"
                                                                    UpdateSourceTrigger="LostFocus"
                                                                    ValidatesOnDataErrors="True">
                                                                    <Binding.ValidationRules>
                                                                        <Bussines:ValidacionTextbox />
                                                                    </Binding.ValidationRules>
                                                                </Binding>
                                                            </Setter.Value>
                                                        </Setter>
                                                    </Trigger>
                                                    <Trigger Property="Control.IsFocused" Value="False">
                                                        <Setter Property="Text">
                                                            <Setter.Value>
                                                                <Binding
                                                                    Mode="TwoWay"
                                                                    NotifyOnValidationError="True"
                                                                    Path="registroViewModel.rowSelected[pad]"
                                                                    StringFormat="{}{0} mm de Hg"
                                                                    UpdateSourceTrigger="LostFocus"
                                                                    ValidatesOnDataErrors="True">
                                                                    <Binding.ValidationRules>
                                                                        <Bussines:ValidacionTextbox />
                                                                    </Binding.ValidationRules>
                                                                </Binding>
                                                            </Setter.Value>
                                                        </Setter>
                                                    </Trigger>
                                                </Style.Triggers>
                                            </Style>
                                        </TextBox.Style>
                                    </TextBox>
                                </Grid>
                                <!--  PAM  -->
                                <Grid Style="{DynamicResource LabelControlGridStyle}">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="auto" />
                                        <RowDefinition Height="auto" />
                                    </Grid.RowDefinitions>
                                    <Label Content="Presión arterial meadia" />
                                    <TextBox
                                        x:Name="pam_tb"
                                        Grid.Row="1"
                                        TextWrapping="Wrap"
                                        Validation.ErrorTemplate="{StaticResource validationErrorTemplate}">
                                        <!--<Binding Mode="TwoWay" Path="registroViewModel.rowSelected[pam]" UpdateSourceTrigger="LostFocus">
                                            <Binding.ValidationRules>
                                                <Bussines:ValidacionTextbox />
                                            </Binding.ValidationRules>
                                        </Binding>-->
                                        <TextBox.Style>
                                            <Style BasedOn="{StaticResource TextBoxStyle}" TargetType="{x:Type TextBox}">
                                                <Style.Triggers>
                                                    <Trigger Property="Control.IsFocused" Value="True">
                                                        <Setter Property="Text">
                                                            <Setter.Value>
                                                                <Binding
                                                                    Mode="TwoWay"
                                                                    NotifyOnValidationError="True"
                                                                    Path="registroViewModel.rowSelected[pam]"
                                                                    UpdateSourceTrigger="LostFocus"
                                                                    ValidatesOnDataErrors="True">
                                                                    <Binding.ValidationRules>
                                                                        <Bussines:ValidacionTextbox />
                                                                    </Binding.ValidationRules>
                                                                </Binding>
                                                            </Setter.Value>
                                                        </Setter>
                                                    </Trigger>
                                                    <Trigger Property="Control.IsFocused" Value="False">
                                                        <Setter Property="Text">
                                                            <Setter.Value>
                                                                <Binding
                                                                    Mode="TwoWay"
                                                                    NotifyOnValidationError="True"
                                                                    Path="registroViewModel.rowSelected[pam]"
                                                                    StringFormat="{}{0} mm de Hg"
                                                                    UpdateSourceTrigger="LostFocus"
                                                                    ValidatesOnDataErrors="True">
                                                                    <Binding.ValidationRules>
                                                                        <Bussines:ValidacionTextbox />
                                                                    </Binding.ValidationRules>
                                                                </Binding>
                                                            </Setter.Value>
                                                        </Setter>
                                                    </Trigger>
                                                </Style.Triggers>
                                            </Style>
                                        </TextBox.Style>
                                    </TextBox>
                                </Grid>
                            </WrapPanel>
                        </Expander>
                        <!--  LABORATORIO  -->
                        <Expander
                            Grid.Row="3"
                            Grid.Column="1"
                            Margin="0,0,0,25"
                            Header="Laboratorio"
                            IsExpanded="True">
                            <WrapPanel>
                                <!--  COL  -->
                                <Grid Style="{DynamicResource LabelControlGridStyle}">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="auto" />
                                        <RowDefinition Height="auto" />
                                    </Grid.RowDefinitions>
                                    <Label Content="Colesterol" />
                                    <TextBox
                                        x:Name="col_tb"
                                        Grid.Row="1"
                                        Foreground="{Binding col, ConverterParameter=col, Converter={StaticResource numberToColorConverter}}"
                                        TextWrapping="Wrap"
                                        Validation.ErrorTemplate="{StaticResource validationErrorTemplate}">
                                        <!--<Binding Mode="TwoWay" Path="registroViewModel.rowSelected[col]" UpdateSourceTrigger="LostFocus">
                                            <Binding.ValidationRules>
                                                <Bussines:ValidacionTextbox />
                                            </Binding.ValidationRules>
                                        </Binding>-->
                                        <TextBox.Style>
                                            <Style BasedOn="{StaticResource TextBoxStyle}" TargetType="{x:Type TextBox}">
                                                <Style.Triggers>
                                                    <Trigger Property="Control.IsFocused" Value="True">
                                                        <Setter Property="Text">
                                                            <Setter.Value>
                                                                <Binding
                                                                    Mode="TwoWay"
                                                                    NotifyOnValidationError="True"
                                                                    Path="registroViewModel.rowSelected[col]"
                                                                    UpdateSourceTrigger="LostFocus"
                                                                    ValidatesOnDataErrors="True">
                                                                    <Binding.ValidationRules>
                                                                        <Bussines:ValidacionTextbox />
                                                                    </Binding.ValidationRules>
                                                                </Binding>
                                                            </Setter.Value>
                                                        </Setter>
                                                    </Trigger>
                                                    <Trigger Property="Control.IsFocused" Value="False">
                                                        <Setter Property="Text">
                                                            <Setter.Value>
                                                                <Binding
                                                                    Mode="TwoWay"
                                                                    NotifyOnValidationError="True"
                                                                    Path="registroViewModel.rowSelected[col]"
                                                                    StringFormat="{}{0} mg/dl"
                                                                    UpdateSourceTrigger="LostFocus"
                                                                    ValidatesOnDataErrors="True">
                                                                    <Binding.ValidationRules>
                                                                        <Bussines:ValidacionTextbox />
                                                                    </Binding.ValidationRules>
                                                                </Binding>
                                                            </Setter.Value>
                                                        </Setter>
                                                    </Trigger>
                                                </Style.Triggers>
                                            </Style>
                                        </TextBox.Style>
                                    </TextBox>
                                </Grid>
                                <!--  TRG  -->
                                <Grid Style="{DynamicResource LabelControlGridStyle}">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="auto" />
                                        <RowDefinition Height="auto" />
                                    </Grid.RowDefinitions>
                                    <Label Content="Triglicéridos" />
                                    <TextBox
                                        x:Name="trg_tb"
                                        Grid.Row="1"
                                        TextWrapping="Wrap"
                                        Validation.ErrorTemplate="{StaticResource validationErrorTemplate}">
                                        <!--<Binding Mode="TwoWay" Path="registroViewModel.rowSelected[trg]" UpdateSourceTrigger="LostFocus">
                                            <Binding.ValidationRules>
                                                <Bussines:ValidacionTextbox />
                                            </Binding.ValidationRules>
                                        </Binding>-->
                                        <TextBox.Style>
                                            <Style BasedOn="{StaticResource TextBoxStyle}" TargetType="{x:Type TextBox}">
                                                <Style.Triggers>
                                                    <Trigger Property="Control.IsFocused" Value="True">
                                                        <Setter Property="Text">
                                                            <Setter.Value>
                                                                <Binding
                                                                    Mode="TwoWay"
                                                                    NotifyOnValidationError="True"
                                                                    Path="registroViewModel.rowSelected[trg]"
                                                                    UpdateSourceTrigger="LostFocus"
                                                                    ValidatesOnDataErrors="True">
                                                                    <Binding.ValidationRules>
                                                                        <Bussines:ValidacionTextbox />
                                                                    </Binding.ValidationRules>
                                                                </Binding>
                                                            </Setter.Value>
                                                        </Setter>
                                                    </Trigger>
                                                    <Trigger Property="Control.IsFocused" Value="False">
                                                        <Setter Property="Text">
                                                            <Setter.Value>
                                                                <Binding
                                                                    Mode="TwoWay"
                                                                    NotifyOnValidationError="True"
                                                                    Path="registroViewModel.rowSelected[trg]"
                                                                    StringFormat="{}{0} mg/dl"
                                                                    UpdateSourceTrigger="LostFocus"
                                                                    ValidatesOnDataErrors="True">
                                                                    <Binding.ValidationRules>
                                                                        <Bussines:ValidacionTextbox />
                                                                    </Binding.ValidationRules>
                                                                </Binding>
                                                            </Setter.Value>
                                                        </Setter>
                                                    </Trigger>
                                                </Style.Triggers>
                                            </Style>
                                        </TextBox.Style>
                                    </TextBox>
                                </Grid>
                                <!--  HDL  -->
                                <Grid Style="{DynamicResource LabelControlGridStyle}">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="auto" />
                                        <RowDefinition Height="auto" />
                                    </Grid.RowDefinitions>
                                    <Label Content="HDL" />
                                    <TextBox
                                        x:Name="hdl_tb"
                                        Grid.Row="1"
                                        TextWrapping="Wrap"
                                        Validation.ErrorTemplate="{StaticResource validationErrorTemplate}">
                                        <!--<Binding Mode="TwoWay" Path="registroViewModel.rowSelected[hdl]" UpdateSourceTrigger="LostFocus">
                                            <Binding.ValidationRules>
                                                <Bussines:ValidacionTextbox />
                                            </Binding.ValidationRules>
                                        </Binding>-->
                                        <TextBox.Style>
                                            <Style BasedOn="{StaticResource TextBoxStyle}" TargetType="{x:Type TextBox}">
                                                <Style.Triggers>
                                                    <Trigger Property="Control.IsFocused" Value="True">
                                                        <Setter Property="Text">
                                                            <Setter.Value>
                                                                <Binding
                                                                    Mode="TwoWay"
                                                                    NotifyOnValidationError="True"
                                                                    Path="registroViewModel.rowSelected[hdl]"
                                                                    UpdateSourceTrigger="LostFocus"
                                                                    ValidatesOnDataErrors="True">
                                                                    <Binding.ValidationRules>
                                                                        <Bussines:ValidacionTextbox />
                                                                    </Binding.ValidationRules>
                                                                </Binding>
                                                            </Setter.Value>
                                                        </Setter>
                                                    </Trigger>
                                                    <Trigger Property="Control.IsFocused" Value="False">
                                                        <Setter Property="Text">
                                                            <Setter.Value>
                                                                <Binding
                                                                    Mode="TwoWay"
                                                                    NotifyOnValidationError="True"
                                                                    Path="registroViewModel.rowSelected[hdl]"
                                                                    StringFormat="{}{0} mg/dl"
                                                                    UpdateSourceTrigger="LostFocus"
                                                                    ValidatesOnDataErrors="True">
                                                                    <Binding.ValidationRules>
                                                                        <Bussines:ValidacionTextbox />
                                                                    </Binding.ValidationRules>
                                                                </Binding>
                                                            </Setter.Value>
                                                        </Setter>
                                                    </Trigger>
                                                </Style.Triggers>
                                            </Style>
                                        </TextBox.Style>
                                    </TextBox>
                                </Grid>
                                <!--  LDL  -->
                                <Grid Style="{DynamicResource LabelControlGridStyle}">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="auto" />
                                        <RowDefinition Height="auto" />
                                    </Grid.RowDefinitions>
                                    <Label Content="LDL" />
                                    <TextBox
                                        x:Name="ldl_tb"
                                        Grid.Row="1"
                                        TextWrapping="Wrap"
                                        Validation.ErrorTemplate="{StaticResource validationErrorTemplate}">
                                        <!--<Binding Mode="TwoWay" Path="registroViewModel.rowSelected[ldl]" UpdateSourceTrigger="LostFocus">
                                            <Binding.ValidationRules>
                                                <Bussines:ValidacionTextbox />
                                            </Binding.ValidationRules>
                                        </Binding>-->
                                        <TextBox.Style>
                                            <Style BasedOn="{StaticResource TextBoxStyle}" TargetType="{x:Type TextBox}">
                                                <Style.Triggers>
                                                    <Trigger Property="Control.IsFocused" Value="True">
                                                        <Setter Property="Text">
                                                            <Setter.Value>
                                                                <Binding
                                                                    Mode="TwoWay"
                                                                    NotifyOnValidationError="True"
                                                                    Path="registroViewModel.rowSelected[ldl]"
                                                                    UpdateSourceTrigger="LostFocus"
                                                                    ValidatesOnDataErrors="True">
                                                                    <Binding.ValidationRules>
                                                                        <Bussines:ValidacionTextbox />
                                                                    </Binding.ValidationRules>
                                                                </Binding>
                                                            </Setter.Value>
                                                        </Setter>
                                                    </Trigger>
                                                    <Trigger Property="Control.IsFocused" Value="False">
                                                        <Setter Property="Text">
                                                            <Setter.Value>
                                                                <Binding
                                                                    Mode="TwoWay"
                                                                    NotifyOnValidationError="True"
                                                                    Path="registroViewModel.rowSelected[ldl]"
                                                                    StringFormat="{}{0} mg/dl"
                                                                    UpdateSourceTrigger="LostFocus"
                                                                    ValidatesOnDataErrors="True">
                                                                    <Binding.ValidationRules>
                                                                        <Bussines:ValidacionTextbox />
                                                                    </Binding.ValidationRules>
                                                                </Binding>
                                                            </Setter.Value>
                                                        </Setter>
                                                    </Trigger>
                                                </Style.Triggers>
                                            </Style>
                                        </TextBox.Style>
                                    </TextBox>
                                </Grid>
                                <!--  VLDL  -->
                                <Grid Style="{DynamicResource LabelControlGridStyle}">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="auto" />
                                        <RowDefinition Height="auto" />
                                    </Grid.RowDefinitions>
                                    <Label Content="VLDL" />
                                    <TextBox
                                        x:Name="vldl_tb"
                                        Grid.Row="1"
                                        TextWrapping="Wrap"
                                        Validation.ErrorTemplate="{StaticResource validationErrorTemplate}">
                                        <!--<Binding Mode="TwoWay" Path="registroViewModel.rowSelected[vldl]" UpdateSourceTrigger="LostFocus">
                                            <Binding.ValidationRules>
                                                <Bussines:ValidacionTextbox />
                                            </Binding.ValidationRules>
                                        </Binding>-->
                                        <TextBox.Style>
                                            <Style BasedOn="{StaticResource TextBoxStyle}" TargetType="{x:Type TextBox}">
                                                <Style.Triggers>
                                                    <Trigger Property="Control.IsFocused" Value="True">
                                                        <Setter Property="Text">
                                                            <Setter.Value>
                                                                <Binding
                                                                    Mode="TwoWay"
                                                                    NotifyOnValidationError="True"
                                                                    Path="registroViewModel.rowSelected[vldl]"
                                                                    UpdateSourceTrigger="LostFocus"
                                                                    ValidatesOnDataErrors="True">
                                                                    <Binding.ValidationRules>
                                                                        <Bussines:ValidacionTextbox />
                                                                    </Binding.ValidationRules>
                                                                </Binding>
                                                            </Setter.Value>
                                                        </Setter>
                                                    </Trigger>
                                                    <Trigger Property="Control.IsFocused" Value="False">
                                                        <Setter Property="Text">
                                                            <Setter.Value>
                                                                <Binding
                                                                    Mode="TwoWay"
                                                                    NotifyOnValidationError="True"
                                                                    Path="registroViewModel.rowSelected[vldl]"
                                                                    StringFormat="{}{0} mg/dl"
                                                                    UpdateSourceTrigger="LostFocus"
                                                                    ValidatesOnDataErrors="True">
                                                                    <Binding.ValidationRules>
                                                                        <Bussines:ValidacionTextbox />
                                                                    </Binding.ValidationRules>
                                                                </Binding>
                                                            </Setter.Value>
                                                        </Setter>
                                                    </Trigger>
                                                </Style.Triggers>
                                            </Style>
                                        </TextBox.Style>
                                    </TextBox>
                                </Grid>
                                <!--  Agua  -->
                                <Grid Style="{DynamicResource LabelControlGridStyle}">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="auto" />
                                        <RowDefinition Height="auto" />
                                    </Grid.RowDefinitions>
                                    <Label Content="Agua" />
                                    <TextBox
                                        x:Name="agua_tb"
                                        Grid.Row="1"
                                        TextWrapping="Wrap"
                                        Validation.ErrorTemplate="{StaticResource validationErrorTemplate}">
                                        <!--<Binding Mode="TwoWay" Path="registroViewModel.rowSelected[agua]" UpdateSourceTrigger="LostFocus">
                                            <Binding.ValidationRules>
                                                <Bussines:ValidacionTextbox />
                                            </Binding.ValidationRules>
                                        </Binding>-->
                                        <TextBox.Style>
                                            <Style BasedOn="{StaticResource TextBoxStyle}" TargetType="{x:Type TextBox}">
                                                <Style.Triggers>
                                                    <Trigger Property="Control.IsFocused" Value="True">
                                                        <Setter Property="Text">
                                                            <Setter.Value>
                                                                <Binding
                                                                    Mode="TwoWay"
                                                                    NotifyOnValidationError="True"
                                                                    Path="registroViewModel.rowSelected[agua]"
                                                                    UpdateSourceTrigger="LostFocus"
                                                                    ValidatesOnDataErrors="True">
                                                                    <Binding.ValidationRules>
                                                                        <Bussines:ValidacionTextbox />
                                                                    </Binding.ValidationRules>
                                                                </Binding>
                                                            </Setter.Value>
                                                        </Setter>
                                                    </Trigger>
                                                    <Trigger Property="Control.IsFocused" Value="False">
                                                        <Setter Property="Text">
                                                            <Setter.Value>
                                                                <Binding
                                                                    Mode="TwoWay"
                                                                    NotifyOnValidationError="True"
                                                                    Path="registroViewModel.rowSelected[agua]"
                                                                    StringFormat="{}{0:F} %"
                                                                    UpdateSourceTrigger="LostFocus"
                                                                    ValidatesOnDataErrors="True">
                                                                    <Binding.ValidationRules>
                                                                        <Bussines:ValidacionTextbox />
                                                                    </Binding.ValidationRules>
                                                                </Binding>
                                                            </Setter.Value>
                                                        </Setter>
                                                    </Trigger>
                                                </Style.Triggers>
                                            </Style>
                                        </TextBox.Style>
                                    </TextBox>
                                </Grid>
                                <!--  Grasa  -->
                                <Grid Style="{DynamicResource LabelControlGridStyle}">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="auto" />
                                        <RowDefinition Height="auto" />
                                    </Grid.RowDefinitions>
                                    <Label Content="Grasa" />
                                    <TextBox
                                        x:Name="grasa_tb"
                                        Grid.Row="1"
                                        TextWrapping="Wrap"
                                        Validation.ErrorTemplate="{StaticResource validationErrorTemplate}">
                                        <!--<Binding Mode="TwoWay" Path="registro.grasa" UpdateSourceTrigger="LostFocus">
                                            <Binding.ValidationRules>
                                                <Bussines:ValidacionTextbox />
                                            </Binding.ValidationRules>
                                        </Binding>-->
                                        <TextBox.Style>
                                            <Style BasedOn="{StaticResource TextBoxStyle}" TargetType="{x:Type TextBox}">
                                                <Style.Triggers>
                                                    <Trigger Property="Control.IsFocused" Value="True">
                                                        <Setter Property="Text">
                                                            <Setter.Value>
                                                                <Binding
                                                                    Mode="TwoWay"
                                                                    NotifyOnValidationError="True"
                                                                    Path="registroViewModel.rowSelected[grasa]"
                                                                    UpdateSourceTrigger="LostFocus"
                                                                    ValidatesOnDataErrors="True">
                                                                    <Binding.ValidationRules>
                                                                        <Bussines:ValidacionTextbox />
                                                                    </Binding.ValidationRules>
                                                                </Binding>
                                                            </Setter.Value>
                                                        </Setter>
                                                    </Trigger>
                                                    <Trigger Property="Control.IsFocused" Value="False">
                                                        <Setter Property="Text">
                                                            <Setter.Value>
                                                                <Binding
                                                                    Mode="TwoWay"
                                                                    NotifyOnValidationError="True"
                                                                    Path="registroViewModel.rowSelected[grasa]"
                                                                    StringFormat="{}{0:F} %"
                                                                    UpdateSourceTrigger="LostFocus"
                                                                    ValidatesOnDataErrors="True">
                                                                    <Binding.ValidationRules>
                                                                        <Bussines:ValidacionTextbox />
                                                                    </Binding.ValidationRules>
                                                                </Binding>
                                                            </Setter.Value>
                                                        </Setter>
                                                    </Trigger>
                                                </Style.Triggers>
                                            </Style>
                                        </TextBox.Style>
                                    </TextBox>
                                </Grid>
                                <!--  Peso oseo  -->
                                <Grid Style="{DynamicResource LabelControlGridStyle}">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="auto" />
                                        <RowDefinition Height="auto" />
                                    </Grid.RowDefinitions>
                                    <Label Content="Peso oseo" />
                                    <TextBox
                                        x:Name="peso_oseo_tb"
                                        Grid.Row="1"
                                        TextWrapping="Wrap"
                                        Validation.ErrorTemplate="{StaticResource validationErrorTemplate}">
                                        <!--<Binding Mode="TwoWay" Path="registroViewModel.rowSelected[peso_oseo]" UpdateSourceTrigger="LostFocus">
                                            <Binding.ValidationRules>
                                                <Bussines:ValidacionTextbox />
                                            </Binding.ValidationRules>
                                        </Binding>-->
                                        <TextBox.Style>
                                            <Style BasedOn="{StaticResource TextBoxStyle}" TargetType="{x:Type TextBox}">
                                                <Style.Triggers>
                                                    <Trigger Property="Control.IsFocused" Value="True">
                                                        <Setter Property="Text">
                                                            <Setter.Value>
                                                                <Binding
                                                                    Mode="TwoWay"
                                                                    NotifyOnValidationError="True"
                                                                    Path="registroViewModel.rowSelected[peso_oseo]"
                                                                    UpdateSourceTrigger="LostFocus"
                                                                    ValidatesOnDataErrors="True">
                                                                    <Binding.ValidationRules>
                                                                        <Bussines:ValidacionTextbox />
                                                                    </Binding.ValidationRules>
                                                                </Binding>
                                                            </Setter.Value>
                                                        </Setter>
                                                    </Trigger>
                                                    <Trigger Property="Control.IsFocused" Value="False">
                                                        <Setter Property="Text">
                                                            <Setter.Value>
                                                                <Binding
                                                                    Mode="TwoWay"
                                                                    NotifyOnValidationError="True"
                                                                    Path="registroViewModel.rowSelected[peso_oseo]"
                                                                    StringFormat="{}{0:F} kg}"
                                                                    UpdateSourceTrigger="LostFocus"
                                                                    ValidatesOnDataErrors="True">
                                                                    <Binding.ValidationRules>
                                                                        <Bussines:ValidacionTextbox />
                                                                    </Binding.ValidationRules>
                                                                </Binding>
                                                            </Setter.Value>
                                                        </Setter>
                                                    </Trigger>
                                                </Style.Triggers>
                                            </Style>
                                        </TextBox.Style>
                                    </TextBox>
                                </Grid>
                                <!--  GLU  -->
                                <Grid Style="{DynamicResource LabelControlGridStyle}">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="auto" />
                                        <RowDefinition Height="auto" />
                                    </Grid.RowDefinitions>
                                    <Label Content="Glucosa" />
                                    <TextBox
                                        x:Name="glu_tb"
                                        Grid.Row="1"
                                        TextWrapping="Wrap"
                                        Validation.ErrorTemplate="{StaticResource validationErrorTemplate}">
                                        <!--<Binding Mode="TwoWay" Path="registroViewModel.rowSelected[glu]" UpdateSourceTrigger="LostFocus">
                                            <Binding.ValidationRules>
                                                <Bussines:ValidacionTextbox />
                                            </Binding.ValidationRules>
                                        </Binding>-->
                                        <TextBox.Style>
                                            <Style BasedOn="{StaticResource TextBoxStyle}" TargetType="{x:Type TextBox}">
                                                <Style.Triggers>
                                                    <Trigger Property="Control.IsFocused" Value="True">
                                                        <Setter Property="Text">
                                                            <Setter.Value>
                                                                <Binding
                                                                    Mode="TwoWay"
                                                                    NotifyOnValidationError="True"
                                                                    Path="registroViewModel.rowSelected[glu]"
                                                                    UpdateSourceTrigger="LostFocus"
                                                                    ValidatesOnDataErrors="True">
                                                                    <Binding.ValidationRules>
                                                                        <Bussines:ValidacionTextbox />
                                                                    </Binding.ValidationRules>
                                                                </Binding>
                                                            </Setter.Value>
                                                        </Setter>
                                                    </Trigger>
                                                    <Trigger Property="Control.IsFocused" Value="False">
                                                        <Setter Property="Text">
                                                            <Setter.Value>
                                                                <Binding
                                                                    Mode="TwoWay"
                                                                    NotifyOnValidationError="True"
                                                                    Path="registroViewModel.rowSelected[glu]"
                                                                    StringFormat="{}{0} mg/dc"
                                                                    UpdateSourceTrigger="LostFocus"
                                                                    ValidatesOnDataErrors="True">
                                                                    <Binding.ValidationRules>
                                                                        <Bussines:ValidacionTextbox />
                                                                    </Binding.ValidationRules>
                                                                </Binding>
                                                            </Setter.Value>
                                                        </Setter>
                                                    </Trigger>
                                                </Style.Triggers>
                                            </Style>
                                        </TextBox.Style>
                                    </TextBox>
                                </Grid>
                                <!--  TSH  -->
                                <Grid Style="{DynamicResource LabelControlGridStyle}">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="auto" />
                                        <RowDefinition Height="auto" />
                                    </Grid.RowDefinitions>
                                    <Label Content="TSH" />
                                    <TextBox
                                        x:Name="tsh_tb"
                                        Grid.Row="1"
                                        TextWrapping="Wrap"
                                        Validation.ErrorTemplate="{StaticResource validationErrorTemplate}">
                                        <!--<Binding Mode="TwoWay" Path="registroViewModel.rowSelected[tsh]" UpdateSourceTrigger="LostFocus">
                                            <Binding.ValidationRules>
                                                <Bussines:ValidacionTextbox />
                                            </Binding.ValidationRules>
                                        </Binding>-->
                                        <TextBox.Style>
                                            <Style BasedOn="{StaticResource TextBoxStyle}" TargetType="{x:Type TextBox}">
                                                <Style.Triggers>
                                                    <Trigger Property="Control.IsFocused" Value="True">
                                                        <Setter Property="Text">
                                                            <Setter.Value>
                                                                <Binding
                                                                    Mode="TwoWay"
                                                                    NotifyOnValidationError="True"
                                                                    Path="registroViewModel.rowSelected[tsh]"
                                                                    UpdateSourceTrigger="LostFocus"
                                                                    ValidatesOnDataErrors="True">
                                                                    <Binding.ValidationRules>
                                                                        <Bussines:ValidacionTextbox />
                                                                    </Binding.ValidationRules>
                                                                </Binding>
                                                            </Setter.Value>
                                                        </Setter>
                                                    </Trigger>
                                                    <Trigger Property="Control.IsFocused" Value="False">
                                                        <Setter Property="Text">
                                                            <Setter.Value>
                                                                <Binding
                                                                    Mode="TwoWay"
                                                                    NotifyOnValidationError="True"
                                                                    Path="registroViewModel.rowSelected[tsh]"
                                                                    StringFormat="{}{0} mlU/L"
                                                                    UpdateSourceTrigger="LostFocus"
                                                                    ValidatesOnDataErrors="True">
                                                                    <Binding.ValidationRules>
                                                                        <Bussines:ValidacionTextbox />
                                                                    </Binding.ValidationRules>
                                                                </Binding>
                                                            </Setter.Value>
                                                        </Setter>
                                                    </Trigger>
                                                </Style.Triggers>
                                            </Style>
                                        </TextBox.Style>
                                    </TextBox>
                                </Grid>
                                <!--  Creatinina  -->
                                <Grid Style="{DynamicResource LabelControlGridStyle}">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="auto" />
                                        <RowDefinition Height="auto" />
                                    </Grid.RowDefinitions>
                                    <Label Content="Creatinina" />
                                    <TextBox
                                        x:Name="creatinina_tb"
                                        Grid.Row="1"
                                        TextWrapping="Wrap"
                                        Validation.ErrorTemplate="{StaticResource validationErrorTemplate}">
                                        <!--<Binding Mode="TwoWay" Path="registroViewModel.rowSelected[creatinina]" UpdateSourceTrigger="LostFocus">
                                            <Binding.ValidationRules>
                                                <Bussines:ValidacionTextbox />
                                            </Binding.ValidationRules>
                                        </Binding>-->
                                        <TextBox.Style>
                                            <Style BasedOn="{StaticResource TextBoxStyle}" TargetType="{x:Type TextBox}">
                                                <Style.Triggers>
                                                    <Trigger Property="Control.IsFocused" Value="True">
                                                        <Setter Property="Text">
                                                            <Setter.Value>
                                                                <Binding
                                                                    Mode="TwoWay"
                                                                    NotifyOnValidationError="True"
                                                                    Path="registroViewModel.rowSelected[creatinina]"
                                                                    UpdateSourceTrigger="LostFocus"
                                                                    ValidatesOnDataErrors="True">
                                                                    <Binding.ValidationRules>
                                                                        <Bussines:ValidacionTextbox />
                                                                    </Binding.ValidationRules>
                                                                </Binding>
                                                            </Setter.Value>
                                                        </Setter>
                                                    </Trigger>
                                                    <Trigger Property="Control.IsFocused" Value="False">
                                                        <Setter Property="Text">
                                                            <Setter.Value>
                                                                <Binding
                                                                    Mode="TwoWay"
                                                                    NotifyOnValidationError="True"
                                                                    Path="registroViewModel.rowSelected[creatinina]"
                                                                    StringFormat="{}{0} mg/dL"
                                                                    UpdateSourceTrigger="LostFocus"
                                                                    ValidatesOnDataErrors="True">
                                                                    <Binding.ValidationRules>
                                                                        <Bussines:ValidacionTextbox />
                                                                    </Binding.ValidationRules>
                                                                </Binding>
                                                            </Setter.Value>
                                                        </Setter>
                                                    </Trigger>
                                                </Style.Triggers>
                                            </Style>
                                        </TextBox.Style>
                                    </TextBox>
                                </Grid>
                                <!--  M.Album  -->
                                <Grid Style="{DynamicResource LabelControlGridStyle}">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="auto" />
                                        <RowDefinition Height="auto" />
                                    </Grid.RowDefinitions>
                                    <Label Content="Microalbuminuria" />
                                    <TextBox
                                        x:Name="m_album_tb"
                                        Grid.Row="1"
                                        TextWrapping="Wrap"
                                        Validation.ErrorTemplate="{StaticResource validationErrorTemplate}">
                                        <!--<Binding Mode="TwoWay" Path="registroViewModel.rowSelected[m_album]" UpdateSourceTrigger="LostFocus">
                                            <Binding.ValidationRules>
                                                <Bussines:ValidacionTextbox />
                                            </Binding.ValidationRules>
                                        </Binding>-->
                                        <TextBox.Style>
                                            <Style BasedOn="{StaticResource TextBoxStyle}" TargetType="{x:Type TextBox}">
                                                <Style.Triggers>
                                                    <Trigger Property="Control.IsFocused" Value="True">
                                                        <Setter Property="Text">
                                                            <Setter.Value>
                                                                <Binding
                                                                    Mode="TwoWay"
                                                                    NotifyOnValidationError="True"
                                                                    Path="registroViewModel.rowSelected[m_album]"
                                                                    UpdateSourceTrigger="LostFocus"
                                                                    ValidatesOnDataErrors="True">
                                                                    <Binding.ValidationRules>
                                                                        <Bussines:ValidacionTextbox />
                                                                    </Binding.ValidationRules>
                                                                </Binding>
                                                            </Setter.Value>
                                                        </Setter>
                                                    </Trigger>
                                                    <Trigger Property="Control.IsFocused" Value="False">
                                                        <Setter Property="Text">
                                                            <Setter.Value>
                                                                <Binding
                                                                    Mode="TwoWay"
                                                                    NotifyOnValidationError="True"
                                                                    Path="registroViewModel.rowSelected[m_album]"
                                                                    StringFormat="{}{0:F} %"
                                                                    UpdateSourceTrigger="LostFocus"
                                                                    ValidatesOnDataErrors="True">
                                                                    <Binding.ValidationRules>
                                                                        <Bussines:ValidacionTextbox />
                                                                    </Binding.ValidationRules>
                                                                </Binding>
                                                            </Setter.Value>
                                                        </Setter>
                                                    </Trigger>
                                                </Style.Triggers>
                                            </Style>
                                        </TextBox.Style>
                                    </TextBox>
                                </Grid>
                                <!--  HBA1C  -->
                                <Grid Style="{DynamicResource LabelControlGridStyle}">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="auto" />
                                        <RowDefinition Height="auto" />
                                    </Grid.RowDefinitions>
                                    <Label Content="Hemoglobina glicosilada" />
                                    <TextBox
                                        x:Name="hba1c_tb"
                                        Grid.Row="1"
                                        TextWrapping="Wrap"
                                        Validation.ErrorTemplate="{StaticResource validationErrorTemplate}">
                                        <!--<Binding Mode="TwoWay" Path="registroViewModel.rowSelected[hba1c]" UpdateSourceTrigger="LostFocus">
                                            <Binding.ValidationRules>
                                                <Bussines:ValidacionTextbox />
                                            </Binding.ValidationRules>
                                        </Binding>-->
                                        <TextBox.Style>
                                            <Style BasedOn="{StaticResource TextBoxStyle}" TargetType="{x:Type TextBox}">
                                                <Style.Triggers>
                                                    <Trigger Property="Control.IsFocused" Value="True">
                                                        <Setter Property="Text">
                                                            <Setter.Value>
                                                                <Binding
                                                                    Mode="TwoWay"
                                                                    NotifyOnValidationError="True"
                                                                    Path="registroViewModel.rowSelected[hba1c]"
                                                                    UpdateSourceTrigger="LostFocus"
                                                                    ValidatesOnDataErrors="True">
                                                                    <Binding.ValidationRules>
                                                                        <Bussines:ValidacionTextbox />
                                                                    </Binding.ValidationRules>
                                                                </Binding>
                                                            </Setter.Value>
                                                        </Setter>
                                                    </Trigger>
                                                    <Trigger Property="Control.IsFocused" Value="False">
                                                        <Setter Property="Text">
                                                            <Setter.Value>
                                                                <Binding
                                                                    Mode="TwoWay"
                                                                    NotifyOnValidationError="True"
                                                                    Path="registroViewModel.rowSelected[hba1c]"
                                                                    StringFormat="{}{0:F} %"
                                                                    UpdateSourceTrigger="LostFocus"
                                                                    ValidatesOnDataErrors="True">
                                                                    <Binding.ValidationRules>
                                                                        <Bussines:ValidacionTextbox />
                                                                    </Binding.ValidationRules>
                                                                </Binding>
                                                            </Setter.Value>
                                                        </Setter>
                                                    </Trigger>
                                                </Style.Triggers>
                                            </Style>
                                        </TextBox.Style>
                                    </TextBox>
                                </Grid>
                            </WrapPanel>
                        </Expander>
                        <!--  OTROS  -->
                        <Expander
                            Grid.Row="4"
                            Grid.Column="1"
                            Margin="0,0,0,25"
                            Header="Otros"
                            IsExpanded="True">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="auto" />
                                    <RowDefinition Height="5" />
                                    <RowDefinition Height="10" />
                                    <RowDefinition Height="auto" />
                                    <RowDefinition Height="5" />
                                    <RowDefinition Height="10" />
                                    <RowDefinition Height="auto" />
                                    <RowDefinition Height="5" />
                                    <RowDefinition Height="10" />
                                </Grid.RowDefinitions>
                                <!--  Paraclínicos  -->
                                <Grid Grid.Row="0">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="auto" />
                                        <RowDefinition Height="*" />
                                    </Grid.RowDefinitions>
                                    <Label Grid.Row="0" Content="Paraclínicos" />
                                    <TextBox Grid.Row="1" Style="{DynamicResource TextBoxMultilinea}" Validation.ErrorTemplate="{StaticResource validationErrorTemplate}">
                                        <Binding Mode="TwoWay" Path="registroViewModel.rowSelected[paraclinicos]" UpdateSourceTrigger="LostFocus">
                                            <Binding.ValidationRules>
                                                <Bussines:ValidacionTextbox />
                                            </Binding.ValidationRules>
                                        </Binding>
                                    </TextBox>
                                </Grid>
                                <GridSplitter Grid.Row="1" HorizontalAlignment="Stretch" />
                                <!--  Observacion  -->
                                <Grid Grid.Row="3">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="auto" />
                                        <RowDefinition Height="*" />
                                    </Grid.RowDefinitions>
                                    <Label Content="Observacion" />
                                    <TextBox Grid.Row="1" Style="{DynamicResource TextBoxMultilinea}" Validation.ErrorTemplate="{StaticResource validationErrorTemplate}">
                                        <Binding Mode="TwoWay" Path="registroViewModel.rowSelected[observacion]" UpdateSourceTrigger="LostFocus">
                                            <Binding.ValidationRules>
                                                <Bussines:ValidacionTextbox />
                                            </Binding.ValidationRules>
                                        </Binding>
                                    </TextBox>
                                </Grid>
                                <GridSplitter Grid.Row="4" HorizontalAlignment="Stretch" />
                                <!--  Formulación  -->
                                <Grid Grid.Row="6">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="auto" />
                                        <RowDefinition Height="*" />
                                    </Grid.RowDefinitions>
                                    <Label Content="Formulación" />
                                    <TextBox Grid.Row="1" Style="{DynamicResource TextBoxMultilinea}" Validation.ErrorTemplate="{StaticResource validationErrorTemplate}">
                                        <Binding Mode="TwoWay" Path="registroViewModel.rowSelected[formulacion]" UpdateSourceTrigger="LostFocus">
                                            <Binding.ValidationRules>
                                                <Bussines:ValidacionTextbox />
                                            </Binding.ValidationRules>
                                        </Binding>
                                    </TextBox>
                                </Grid>
                                <GridSplitter Grid.Row="7" HorizontalAlignment="Stretch" />
                            </Grid>
                        </Expander>


                    </Grid>
                </ScrollViewer>
            </Grid>

        </Grid>
        <!--  Ventana: Barra de estado  -->
        <Grid x:Name="BarraEstado" Grid.Row="3">
            <TextBlock
                x:Name="BarraEstadoPaciente_txt"
                FontSize="9"
                Text="{Binding paciente.nin, StringFormat=Paciente \{0\}., TargetNullValue=''}"
                TextWrapping="Wrap" />
            <TextBlock x:Name="BarraEstadoRegsitro_txt" FontSize="9" TextWrapping="Wrap" />
            <TextBlock
                x:Name="BarraEstadoRespuesta_txt"
                FontSize="9"
                Text="Bienvenido a CCP HTA 2017"
                TextWrapping="Wrap" />
        </Grid>

    </Grid>
</ViewModels:WindowViewModelBase>


